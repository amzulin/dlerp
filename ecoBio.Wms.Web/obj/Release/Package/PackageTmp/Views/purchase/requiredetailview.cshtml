
@{
    var no = Model.no;
    var list = Model.list as List<Enterprise.Invoicing.ViewModel.PurchaseRequireDetailModel>;

    var pi = 1;
    }
<table  width="94%" border="0" cellspacing="0" cellpadding="0" class="table_common_yellow ">
      <thead>
        <tr>
          <th width="5%">明细</th>
          <th width="8%">物料编码</th>
          <th width="12%">物料名称</th>
          <th width="16%">物料规格</th>
          <th width="12%">物料图号</th>
          <th width="6%" >单位</th>
          <th width="8%">申请数量</th>
          <th width="8%">已购数量</th>
          <th width="10%">需求日期</th>
          <th width="15%">备注</th>
        </tr>
      </thead>
          <tbody>
     @if (list.Count>0)
     {
        foreach (var item in list)
     {  
  <tr>
      <td>@pi</td>
    <td>@item.materialNo</td>
    <td title="编码 @item.materialNo">@item.materialName</td>
    <td title="编码 @item.materialNo">@item.materialModel</td>
    <td title="编码 @item.materialNo">@item.materialTu</td>
    <td>@item.materialUnit</td>
    <td>@(Math.Round(item.orderAmount,item.xslength))</td>
    <td>@(Math.Round(item.buyAmount,item.xslength))</td>
       <td>@(item.needdate<DateTime.Now.AddYears(5)?item.needdate.ToString("yyyy-MM-dd"):"") </td>
    <td>@item.remark</td>
  </tr>
         pi++;
      }    
     }
     else
     {
        <tr>
  <td colspan="9"  bgcolor="#FFFFFF" style="text-align:left;">无申请明细</td></tr> 
     }
</tbody>
    </table> 

