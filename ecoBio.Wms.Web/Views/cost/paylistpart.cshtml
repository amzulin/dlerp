@{
    Layout = null;
    var list = Model.list as List<Enterprise.Invoicing.ViewModel.NeedPayModel>;
    var page = Model.pageIndex;
    var pi = 1; var dpi = 1;
    var pageindex = Model.pageIndex;
    var pagesize = Model.pageSize;
    if (pageindex > 1)
    {
        pi = (pageindex - 1) * pagesize + 1;
    } 
     }



<!--表格内容-->

<div class="detail_unfold" style="margin-left:10px;margin-right:10px;margin-top:10px; min-height:500px;*+height:100%; border:1px solid #cbdce7; border-top-left-radius:4px;border-top-right-radius:4px;">
<h2>应付款</h2>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="table_common">
 <thead>
  <tr>
       <th width="5%">序号</th>
    <th width="40%" style="cursor:pointer;" onclick="orderlistp('suppliername')">供应商</th>
    <th width="15%" style="cursor:pointer;" onclick="orderlistp('inCost')">金额</th>
    <th width="15%" style="cursor:pointer;" onclick="orderlistp('createDate')">开始日期</th>
    <th width="15%" style="cursor:pointer;" onclick="orderlistp('createDate')">结束日期</th>
    <th width="10%">操作</th>
  </tr>
  </thead>
 <tbody>
     @foreach (var item in list)
     {  
         <tr><td colspan="10">
             <table width="100%" border="0" cellpadding="0" cellspacing="0" >
	<tbody>
        <tr id="tr_@dpi" onclick="loaddetailp(@dpi,@item.supplierId)">
      <td width="5%">@pi</td>
    <td width="40%">@item.supplierName</td>
    <td width="15%">@item.cost</td>
    <td width="15%">@item.dateStart.ToString("yyyy-MM-dd")</td>
    <td width="15%">@item.dateEnd.ToString("yyyy-MM-dd")</td>
    <td width="10%"></td>
   </tr>
                	  </tbody>
    </table>      
          <div  id="detai_div_@dpi" style="display:none;">
              @{
         Html.RenderAction("paydetailview", "cost", new { supplier =0, where = "" });
      }
        </div>

             </td></tr>
        pi++;
        dpi++;
     }
     @if (list.Count < 1)
     {
         <tr><td colspan="6">无明细</td></tr> 
     }
  </tbody>  
</table>
        </div>
    <div class="pagelinks_container" style="margin-bottom:10px;">
       
	 @Html.Partial("~/Views/Shared/page_page.cshtml", new ViewDataDictionary()
       {
           {"pageIndex",Model.pageIndex},{"totalCount",Model.totalCount},{"pageSize",Model.pageSize}
       })
    </div>
<script>
    page = '@page';
</script>